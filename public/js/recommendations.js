$(document).ready(function(){var bookRecommendations="",eventRecommendations="",filmRecommendations="",eduRecommendations="";$("#book").click(function(){$(".recomloading").hasClass("hidden")&&($(".recomloading").removeClass("hidden"),""!==bookRecommendations?($(".recomloading").addClass("hidden"),$(".allResults").html(bookRecommendations)):jQuery.ajax({method:"get",url:"recommendations/books",dataType:"json",success:function(data){$(".recomloading").addClass("hidden"),$.each(data,function(key,val){bookRecommendations+='<div class="col-lg-4 col-md-6 col-sm-12"><div class="resultWrapper"><p>Type: <span class="type">Book</span></p><p>Name: <span class="name">'+val.title+"</span></p>",val.authors&&$.each(val.authors,function(key2,val2){bookRecommendations+='<p>Author: <span class="releaseDate">'+val2+"</span></p>"}),val.releaseDate&&("object"==typeof val.releaseDate&&(bookRecommendations+='<p>Name: <span class="releaseDate">'+val.releaseDate.date.split(" ")[0]+"</span></p>"),"object"!=typeof val.releaseDate&&(bookRecommendations+='<p>Year: <span class="releaseDate">'+val.releaseDate+"</span></p>")),bookRecommendations+='<a target="_blank" href="'+val.link+'"> Original Link</a>',bookRecommendations+="</div></div>"}),bookRecommendations.length>0?$(".allResults").html(bookRecommendations):$(".allResults").html("<div class='col-md-12'>Sorry, we can't offer you any recommendations based on your current prefferences</p></div>")},error:function(){$(".recomloading").addClass("hidden"),$(".allResults").html("<div class='col-md-12'><p>Fetching recommandations failed.. Try again.</p></div>")}}))}),$("#event").click(function(){$(".recomloading").hasClass("hidden")&&($(".recomloading").removeClass("hidden"),""!==eventRecommendations?($(".recomloading").addClass("hidden"),$(".allResults").html(eventRecommendations)):jQuery.ajax({method:"get",url:"recommendations/events",dataType:"json",success:function(data){$(".recomloading").addClass("hidden"),$.each(data,function(key,val){eventRecommendations+='<div class="col-lg-4 col-md-6 col-sm-12"><div class="resultWrapper"><p>Type: <span class="type">Event</span></p><p>Name: <span class="name">'+val.title+"</span></p>",val.locations&&(eventRecommendations+="<p>Locations: <span>",comaCheck=!1,$.each(val.locations,function(key2,val2){eventRecommendations+=(comaCheck?", ":" ")+val2,comaCheck=!0}),eventRecommendations+="</span></p>"),eventRecommendations+='<a target="_blank" href="'+val.link+'"> Original Link</a>',eventRecommendations+="</div></div>"}),eventRecommendations.length>0?$(".allResults").html(eventRecommendations):$(".allResults").html("<div class='col-md-12'>Sorry, we can't offer you any recommendations based on your current prefferences</p></div>")},error:function(){$(".recomloading").addClass("hidden"),$(".allResults").html("<div class='col-md-12'><p>Fetching recommandations failed.. Try again.</p></div>")}}))}),$("#film").click(function(){$(".recomloading").hasClass("hidden")&&($(".recomloading").removeClass("hidden"),""!==filmRecommendations?($(".recomloading").addClass("hidden"),$(".allResults").html(filmRecommendations)):jQuery.ajax({method:"get",url:"recommendations/films",dataType:"json",success:function(data){$(".recomloading").addClass("hidden"),$.each(data,function(key,val){filmRecommendations+='<div class="col-lg-4 col-md-6 col-sm-12"><div class="resultWrapper"><p>Type: <span class="type">Film</span></p><p>Name: <span class="name">'+val.title+"</span></p>",val.directors&&(filmRecommendations+="<p>Directors: <span>",$.each(val.directors,function(key2,val2){filmRecommendations+=val2}),filmRecommendations+="</span></p>"),val.composers&&(limitCheck=0,filmRecommendations+="<p>Composers: <span>",comaCheck=!1,$.each(val.composers,function(key3,val3){limitCheck<3&&(filmRecommendations+=(comaCheck?", ":" ")+val3,comaCheck=!0)}),filmRecommendations+="</span></p>"),val.actors&&(limitCheck=0,filmRecommendations+="<p>Actors: <span>",comaCheck=!1,$.each(val.actors,function(key3,val3){limitCheck<3&&(filmRecommendations+=(comaCheck?", ":" ")+val3,comaCheck=!0)}),filmRecommendations+="</span></p>"),filmRecommendations+='<a target="_blank" href="'+val.link+'"> Original Link</a>',filmRecommendations+="</div></div>"}),filmRecommendations.length>0?$(".allResults").html(filmRecommendations):$(".allResults").html("<div class='col-md-12'>Sorry, we can't offer you any recommendations based on your current prefferences</p></div>")},error:function(){$(".recomloading").addClass("hidden"),$(".allResults").html("<div class='col-md-12'><p>Fetching recommandations failed.. Try again.</p></div>")}}))}),$("#edu").click(function(){$(".recomloading").hasClass("hidden")&&($(".recomloading").removeClass("hidden"),""!==eduRecommendations?($(".recomloading").addClass("hidden"),$(".allResults").html(eduRecommendations)):jQuery.ajax({method:"get",url:"recommendations/edu",dataType:"json",success:function(data){$(".recomloading").addClass("hidden"),$.each(data,function(key,val){eduRecommendations+='<div class="col-lg-4 col-md-6 col-sm-12"><div class="resultWrapper"><p>Type: <span class="type">Institution</span></p><p>Name: <span class="name">'+val.name+"</span></p>",val.numberOfStudents&&(eduRecommendations+="<p>Students: <span>"+val.numberOfStudents+"</span></p>"),val.countries&&(eduRecommendations+="<p>Country: <span>",$.each(val.countries,function(key2,val2){result+=val2}),eduRecommendations+="</span></p>"),eduRecommendations+='<a target="_blank" href="'+val.link+'"> Original Link</a>',eduRecommendations+="</div></div>"}),eduRecommendations.length>0?$(".allResults").html(eduRecommendations):$(".allResults").html("<div class='col-md-12'>Sorry, we can't offer you any recommendations based on your current prefferences</p></div>")},error:function(){$(".recomloading").addClass("hidden"),$(".allResults").html("<div class='col-md-12'><p>Fetching recommandations failed.. Try again.</p></div>")}}))})});